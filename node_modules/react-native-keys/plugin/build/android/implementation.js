"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.withAndroidImplementationtDependency = void 0;
const config_plugins_1 = require("@expo/config-plugins");
function applyImplementation(appBuildGradle) {
    const RnkeysImplementation = `implementation project(':react-native-keys')`;
    if (!appBuildGradle.includes(RnkeysImplementation)) {
        const flipperLine = 'debugImplementation("com.facebook.flipper:flipper:${FLIPPER_VERSION}")';
        return appBuildGradle.replace(flipperLine, `${flipperLine}\n${RnkeysImplementation}`);
    }
    return appBuildGradle;
}
const withAndroidImplementationtDependency = (config) => {
    return (0, config_plugins_1.withAppBuildGradle)(config, (config) => {
        config.modResults.contents = applyImplementation(config.modResults.contents);
        return config;
    });
};
exports.withAndroidImplementationtDependency = withAndroidImplementationtDependency;
