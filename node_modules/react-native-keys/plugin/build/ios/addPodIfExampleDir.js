"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.withAddPodIfExampleDir = exports.setMainConfiguration = void 0;
const config_plugins_1 = require("@expo/config-plugins");
function setMainConfiguration(main) {
    let result = main;
    const keyImport = `import com.reactnativekeysjsi.KeysPackage;`;
    if (!result.includes(keyImport)) {
        const listImport = 'import java.util.List;';
        result = result.replace(listImport, `${listImport}\n${keyImport}`);
        const packageAdd = '// packages.add(new MyReactNativePackage());';
        result = result.replace(packageAdd, `${packageAdd}\n        packages.add(new KeysPackage());`);
    }
    return result;
}
exports.setMainConfiguration = setMainConfiguration;
const withAddPodIfExampleDir = (config) => {
    return (0, config_plugins_1.withPodfileProperties)(config, (config) => {
        config.modResults.contents = setMainConfiguration(config.modResults.contents);
        return config;
    });
};
exports.withAddPodIfExampleDir = withAddPodIfExampleDir;
